{% extends "base.html" %}

{% block title %}{{ sobre.titulo }}{% endblock %}

{% block content %}
<div class="container my-5">
    {% if sobre %}
    <div class="row">
        <div class="col-lg-10 mx-auto">
            <!-- Banner -->
            {% if sobre.banner %}
            <div class="mb-4 text-center">
                <img src="{{ sobre.banner.url }}" alt="{{ sobre.titulo }}" class="img-fluid rounded shadow-lg">
            </div>
            {% endif %}

            <!-- Cabeçalho -->
            <div class="text-center mb-5">
                <h1 class="display-4 fw-bold">{{ sobre.titulo }}</h1>
                <p class="lead text-muted">{{ sobre.subtitulo }}</p>
            </div>

            <!-- História -->
            <section class="mb-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-dark text-white">
                        <h2 class="h4 mb-0"><i class="bi bi-book me-2"></i>{{ sobre.historia_titulo }}</h2>
                    </div>
                    <div class="card-body">
                        <div class="content-text">
                            {{ sobre.historia_conteudo|safe }}
                        </div>
                    </div>
                </div>
            </section>

            <!-- Missão -->
            <section class="mb-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-dark text-white">
                        <h2 class="h4 mb-0"><i class="bi bi-bullseye me-2"></i>{{ sobre.missao_titulo }}</h2>
                    </div>
                    <div class="card-body">
                        <div class="content-text">
                            {{ sobre.missao_conteudo|safe }}
                        </div>
                    </div>
                </div>
            </section>

            <!-- Equipe -->
            {% if membros_equipe %}
            <section class="mb-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-dark text-white">
                        <h2 class="h4 mb-0"><i class="bi bi-people-fill me-2"></i>Nossa Equipe</h2>
                    </div>
                    <div class="card-body">
                        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                            {% for membro in membros_equipe %}
                            <div class="col">
                                <div class="card h-100 border-0 shadow-sm">
                                    <img src="{{ membro.foto.url }}" class="card-img-top" alt="{{ membro.nome }}" style="height: 250px; object-fit: cover;">
                                    <div class="card-body text-center">
                                        <h3 class="h5 card-title">{{ membro.nome }}</h3>
                                        <p class="text-primary fw-bold">{{ membro.cargo }}</p>
                                        {% if membro.bio %}
                                        <p class="card-text">{{ membro.bio }}</p>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </section>
            {% endif %}

            <!-- Localização -->
            {% if sobre.mapa_embed %}
            <section class="mb-5">
                <div class="card shadow-sm border-0">
                    <div class="card-header bg-dark text-white">
                        <h2 class="h4 mb-0"><i class="bi bi-geo-alt-fill me-2"></i>Onde Estamos</h2>
                    </div>
                    <div class="card-body p-0 ratio ratio-16x9">
                        {{ sobre.mapa_embed|safe }}
                    </div>
                </div>
            </section>
            {% endif %}

            <!-- Botão CTA -->
            <div class="text-center mt-5">
                <a href="{{ sobre.botao_link }}" class="btn btn-primary btn-lg px-5 py-3">
                    {{ sobre.botao_texto }} <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </div>
    {% else %}
    <div class="alert alert-warning text-center py-4">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        Página Sobre está em manutenção. Volte em breve!
    </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_css %}
<style>
    .content-text {
        line-height: 1.8;
    }
    
    .content-text p {
        margin-bottom: 1.2rem;
    }
    
    .content-text img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        margin: 1rem 0;
    }
    
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .team-member-card {
        border-radius: 10px;
        overflow: hidden;
    }
    
    .team-photo {
        height: 250px;
        object-fit: cover;
        object-position: top;
    }
</style>
{% endblock %}

{% block extra_js %}
<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
{% endblock %}